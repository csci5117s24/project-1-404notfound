{% extends "base.html" %}

{% block content %}
<div class="art-container">
    <h2>Following</h2>
    <div class="grid-container" id="followingContainer">
        <!-- The following user data will be appended here by the script below -->
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function(event) {
    let followingContainer = document.getElementById('followingContainer');
    if (followingContainer) {
        let followingData = {{ following | tojson | safe }};
        console.log('Following Data:', followingData);
        createUserElements(followingContainer, followingData);
    } else {
        console.error('Following container not found');
    }
});

function createUserElements(container, userData) {
    userData.forEach(function(user) {
        let userDiv = document.createElement('div');
        userDiv.classList.add('grid-item');
        userDiv.innerHTML = `
            <div class="user-info">
                <p>User ID: ${user[0]}</p>
                <p>Email: ${user[1]}</p>
                <p>Followed Date: ${user[2]}</p>
            </div>
        `;
        
        container.appendChild(userDiv);
    });
}
</script>
{% endblock %}
